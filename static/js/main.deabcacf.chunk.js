(this["webpackJsonpsend-video-website"]=this["webpackJsonpsend-video-website"]||[]).push([[0],{26:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var a=n(9),i=n.n(a),o=n(17),s=n.n(o),r=(n(26),n(10)),c=n.n(r),u=n(13),l=n(18),p=n(19),h=n(21),d=n(20),f=(n(28),n(14));n(33),n(34);f.a.initializeApp({apiKey:"AIzaSyCnYXhrTWhg-nv1kGY619cH6fTojk0kOvI",authDomain:"push-notification-7c3e3.firebaseapp.com",projectId:"push-notification-7c3e3",storageBucket:"push-notification-7c3e3.appspot.com",messagingSenderId:"1003647006216",appId:"1:1003647006216:web:6c4af366a29f026ea383bd",measurementId:"G-6BJDYFEF6Z"});var m=f.a.firestore(),b=n(7),v=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).sendPushNotification=function(){var e=Object(u.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://exp.host/--/api/v2/push/send",{mode:"no-cors",method:"POST",headers:{host:"exp.host",Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({to:t,sound:"default",title:"Furu",body:"Your video is ready!"})});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),alert(e.t0);case 8:alert("Sent");case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),a.state={email:"",pushNotifToken:"",link:"",caption:""},a}return Object(p.a)(n,[{key:"addVideo",value:function(){var e=Object(u.a)(c.a.mark((function e(t){var n,a=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,m.collection("users").doc(this.state.email);case 4:return n=e.sent,e.next=7,n.update({vidURL:this.state.link,caption:this.state.caption});case 7:return e.next=9,n.get().then((function(e){a.setState({pushNotifToken:e.data().pushNotifToken}),console.log(a.state.pushNotifToken)}));case 9:this.sendPushNotification(this.state.pushNotifToken),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),alert(e.t0);case 15:case"end":return e.stop()}}),e,this,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onEmailChange",value:function(e){this.setState({email:e.target.value})}},{key:"onLinkChange",value:function(e){this.setState({link:e.target.value})}},{key:"onCaptionChange",value:function(e){this.setState({caption:e.target.value})}},{key:"render",value:function(){var e=this;return Object(b.jsx)("div",{className:"container mt-5",children:Object(b.jsxs)("form",{onSubmit:function(t){return e.addVideo(t)},children:[Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{for:"exampleInputEmail1",children:"Email"}),Object(b.jsx)("input",{onChange:function(t){return e.onEmailChange(t)},value:this.state.email,type:"email",className:"form-control mb-3",placeholder:"Enter email"})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{for:"exampleInputPassword1",children:"Video Link"}),Object(b.jsx)("input",{onChange:function(t){return e.onLinkChange(t)},value:this.state.link,type:"text",className:"form-control mb-3",placeholder:"Enter video URL"})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{for:"exampleInputPassword1",children:"Caption"}),Object(b.jsx)("input",{onChange:function(t){return e.onCaptionChange(t)},value:this.state.caption,type:"text",className:"form-control",placeholder:"Enter caption"})]}),Object(b.jsx)("button",{type:"submit",className:"btn btn-primary mt-3",children:"Submit"})]})})}}]),n}(a.Component),j=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,37)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,o=t.getLCP,s=t.getTTFB;n(e),a(e),i(e),o(e),s(e)}))};s.a.render(Object(b.jsx)(i.a.StrictMode,{children:Object(b.jsx)(v,{})}),document.getElementById("root")),j()}},[[36,1,2]]]);
//# sourceMappingURL=main.deabcacf.chunk.js.map